<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="content">
	
		<p:ajaxExceptionHandler rendered="true" type="java.lang.Exception" update="exceptionDialog"
			onexception="PF('exceptionDialog').show();" />

		<p:ajaxExceptionHandler rendered="true" type="java.lang.Throwable" update="exceptionDialog"
			onexception="PF('exceptionDialog').show();" />

		<p:dialog id="exceptionDialog" header="Exception" rendered="true" widgetVar="exceptionDialog" height="500px"
			onHide="document.location.href = document.location.href;">
			<h3>Reloading page</h3>
			<a href="#{request.contextPath}/index.xhtml">Click reload this page</a>.<br />
			<br />
			<span>Message:</span>
			<br />
			<span>#{pfExceptionHandler.message}</span>
			<br />
			<span>StackTrace:</span>
			<h:outputText escape="false" value="#{pfExceptionHandler.formattedStackTrace}" />
		</p:dialog>
    
    </ui:define>
</ui:composition>